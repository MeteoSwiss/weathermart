/* ================================
   Weathermart – Gradient TOC panel
   ================================ */

/* --- Color tokens for TOC cycling --- */
:root{
  /* neutral text + borders */
  --wm-text: #0f172a;         /* slate-900 */
  --wm-muted: #475569;        /* slate-600 */
  --wm-border: #e2e8f0;       /* slate-200 */

  /* 7-stop palette (warm->cool gradient cycle) */
  --toc-1: #f59e0b; /* amber 500 */
  --toc-2: #f97316; /* orange 500 */
  --toc-3: #ef4444; /* red 500 */
  --toc-4: #a855f7; /* purple 500 */
  --toc-5: #6366f1; /* indigo 500 */
  --toc-6: #0ea5e9; /* sky 500 */
  --toc-7: #14b8a6; /* teal 500 */
}

/* --- ToC panel: soft background with very light gradient --- */
.bd-toc{
  background:
    linear-gradient(180deg, #f8fbff 0%, #ffffff 40%, #fffaf5 100%);
  border: 1px solid var(--wm-border);
  border-radius: 14px;
  padding: 0.75rem 0.75rem 1rem;
}

/* Title calmer weight, good hierarchy */
.bd-toc .toc-title{
  font-weight: 800;
  color: var(--wm-text);
  margin: 0.25rem 0 0.25rem 0.25rem;
}

/* Base link style: not bold by default */
.bd-toc nav a,
.bd-toc .reference{
  font-weight: 500;
  color: var(--wm-muted);
  text-decoration: none;
  display: block;
  padding: .35rem .55rem .35rem 1.1rem;
  border-radius: 10px;
  position: relative;
  transition: color .15s ease, background-color .15s ease, box-shadow .15s ease;
}

/* Level-specific subtle sizing and color */
.bd-toc .toctree-l1 > a{ font-size: 0.98rem; color: var(--wm-text); }
.bd-toc .toctree-l2 > a{ font-size: 0.95rem; color: #475569; }
.bd-toc .toctree-l3 > a{ font-size: 0.9rem;  color: #64748b; }

/* Gradient bullet dot (cycles through 7 colors) */
.bd-toc nav ul > li { --toc: var(--toc-1); } /* default */
.bd-toc nav ul > li:nth-child(7n+1){ --toc: var(--toc-1); }
.bd-toc nav ul > li:nth-child(7n+2){ --toc: var(--toc-2); }
.bd-toc nav ul > li:nth-child(7n+3){ --toc: var(--toc-3); }
.bd-toc nav ul > li:nth-child(7n+4){ --toc: var(--toc-4); }
.bd-toc nav ul > li:nth-child(7n+5){ --toc: var(--toc-5); }
.bd-toc nav ul > li:nth-child(7n+6){ --toc: var(--toc-6); }
.bd-toc nav ul > li:nth-child(7n+0){ --toc: var(--toc-7); }

.bd-toc nav a::before{
  content:"";
  position:absolute; left:.55rem; top:50%;
  transform: translateY(-50%);
  width:7px; height:7px; border-radius:50%;
  background: var(--toc);
  box-shadow: 0 0 0 0 rgba(0,0,0,0);
  transition: box-shadow .15s ease;
}

/* Hover: colorize text and add a soft left “pill” */
.bd-toc nav a:hover{
  color: var(--toc);
  background: linear-gradient(90deg, color-mix(in oklab, var(--toc) 15%, transparent) 0 24%, transparent 24% 100%);
  box-shadow: inset 3px 0 0 var(--toc);
}
@supports not (color-mix(in oklab, red 10%, transparent)){
  /* fallback without color-mix */
  .bd-toc nav a:hover{ background: linear-gradient(90deg, rgba(0,0,0,.06) 0 24%, transparent 24% 100%); }
}

/* Active/current item: slightly stronger pill + semibold */
.bd-toc nav a.current,
.bd-toc nav a[aria-current="page"]{
  color: var(--toc);
  font-weight: 600;
  background: linear-gradient(90deg, color-mix(in oklab, var(--toc) 22%, transparent) 0 30%, transparent 30% 100%);
  box-shadow: inset 4px 0 0 var(--toc);
}

/* Nested guides (optional): subtle lines to group children */
.bd-toc .toctree-l2,
.bd-toc .toctree-l3{
  border-left: 1px dashed rgba(2,6,23,.08);
  margin-left: .55rem;
  padding-left: .35rem;
}

/* Dark mode adjustments */
html[data-theme="dark"] .bd-toc{
  background:
    linear-gradient(180deg, #0f172a 0%, #0d1424 50%, #16120b 100%);
  border-color: #1f2937;
}
html[data-theme="dark"] .bd-toc .toc-title{ color: #e5e7eb; }
html[data-theme="dark"] .bd-toc nav a{ color: #cbd5e1; }
html[data-theme="dark"] .bd-toc .toctree-l2 > a{ color:#a3adc2; }
html[data-theme="dark"] .bd-toc .toctree-l3 > a{ color:#94a3b8; }
html[data-theme="dark"] .bd-toc .toctree-l2,
html[data-theme="dark"] .bd-toc .toctree-l3{ border-left-color: rgba(203,213,225,.16); }
